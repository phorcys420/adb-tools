(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[205],{6450:function(e,s,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/tcpip",function(){return i(6874)}])},6874:function(e,s,i){"use strict";i.r(s),i.d(s,{default:function(){return w}});var t=i(3546),r=i(2844),o=i(8672),n=i(3611),a=i(5955),d=i(6332),l=i(1433),c=i(2260),b=(0,a.L)(function(e){if(null==e.children)return null;e.block,e.className;var s=e.as,i=(e.variant,e.nowrap,(0,d._T)(e,["block","className","as","variant","nowrap"])),t=(0,l.FJ)(e,{root:void 0===s?"span":s});return(0,l.Yb)(t.root,(0,d.pi)({},(0,c.pq)(i,c.iY)))},{displayName:"Text",styles:function(e,s){var i=e.as,t=e.className,r=e.block,o=e.nowrap,n=e.variant,a=s.semanticColors,d=s.fonts[n||"medium"];return{root:[d,{color:d.color||a.bodyText,display:r?"td"===i?"table-cell":"block":"inline",mozOsxFontSmoothing:d.MozOsxFontSmoothing,webkitFontSmoothing:d.WebkitFontSmoothing},o&&{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},t]}}}),h=i(7624),v=i(3069),p=i(4513),u=i(2517),P=i(1768),L=i.n(P),T=i(4084),f=i(7226),A=i(461),E=i(2274);let x=new class{get commandBarItems(){return[{key:"refresh",disabled:!A.GLOBAL_STATE.adb,iconProps:{iconName:E.PJ.ArrowClockwise},text:"Refresh",onClick:this.queryInfo},{key:"apply",disabled:!A.GLOBAL_STATE.adb,iconProps:{iconName:E.PJ.Save},text:"Apply",onClick:this.applyServicePort}]}constructor(){this.initial=!0,this.visible=!1,this.serviceListenAddresses=void 0,this.servicePortEnabled=!1,this.servicePort="",this.persistPortEnabled=!1,this.persistPort=void 0,this.queryInfo=(0,E.FW)(async e=>{if(!A.GLOBAL_STATE.adb){(0,p.z)(()=>{this.serviceListenAddresses=void 0,this.servicePortEnabled=!1,this.servicePort="",this.persistPortEnabled=!1,this.persistPort=void 0});return}let s=await A.GLOBAL_STATE.adb.getProp("service.adb.listen_addrs"),i=await A.GLOBAL_STATE.adb.getProp("service.adb.tcp.port"),t=await A.GLOBAL_STATE.adb.getProp("persist.adb.tcp.port");e.aborted||(0,p.z)(()=>{this.serviceListenAddresses=""!==s?s.split(","):void 0,i?(this.servicePortEnabled=!s&&"0"!==i,this.servicePort=i):(this.servicePortEnabled=!1,this.servicePort="5555"),t?(this.persistPortEnabled=!s&&!i,this.persistPort=t):(this.persistPortEnabled=!1,this.persistPort=void 0)})}),this.applyServicePort=async()=>{A.GLOBAL_STATE.adb&&(x.servicePortEnabled?await A.GLOBAL_STATE.adb.tcpip.setPort(Number.parseInt(x.servicePort,10)):await A.GLOBAL_STATE.adb.tcpip.disable())},(0,p.ky)(this,{initial:!1,queryInfo:!1,applyServicePort:!1}),(0,p.EH)(()=>{A.GLOBAL_STATE.adb?this.initial&&this.visible&&(this.initial=!1,this.queryInfo()):this.initial=!0})}};var w=(0,u.Pi)(()=>{var e;(0,T.useEffect)(()=>((0,p.z)(()=>{x.visible=!0}),()=>{(0,p.z)(()=>{x.visible=!1})}),[]);let s=(0,T.useCallback)((e,s)=>{(0,p.z)(()=>{x.servicePortEnabled=!!s})},[]),i=(0,T.useCallback)((e,s)=>{void 0!==s&&(0,p.z)(()=>x.servicePort=s)},[]);return(0,t.jsxs)(r.K,{...E.LE,children:[(0,t.jsx)(L(),{children:(0,t.jsx)("title",{children:"ADB over WiFi - Tango"})}),(0,t.jsx)(f.X3,{items:x.commandBarItems}),(0,t.jsx)(o.v,{children:(0,t.jsx)(n.c,{delayedRender:!1,children:(0,t.jsxs)(b,{children:["For Tango to wirelessly connect to your device,",(0,t.jsx)(f.dL,{href:"https://github.com/yume-chan/ya-webadb/discussions/245#discussioncomment-384030",spaceBefore:!0,spaceAfter:!0,children:"extra software"}),"is required."]})})}),(0,t.jsx)(o.v,{children:(0,t.jsx)(n.c,{delayedRender:!1,children:(0,t.jsx)(b,{children:"Your device will disconnect after changing ADB over WiFi config."})})}),(0,t.jsxs)(o.v,{children:[(0,t.jsx)(h.Z,{inlineLabel:!0,label:"service.adb.listen_addrs",disabled:!0,checked:!!x.serviceListenAddresses,onText:"Enabled",offText:"Disabled"}),null===(e=x.serviceListenAddresses)||void 0===e?void 0:e.map(e=>(0,t.jsx)(v.n,{disabled:!0,value:e,styles:{root:{width:300}}},e))]}),(0,t.jsxs)(o.v,{children:[(0,t.jsx)(h.Z,{inlineLabel:!0,label:"service.adb.tcp.port",checked:x.servicePortEnabled,disabled:!A.GLOBAL_STATE.adb||!!x.serviceListenAddresses,onText:"Enabled",offText:"Disabled",onChange:s}),(0,t.jsx)(v.n,{disabled:!A.GLOBAL_STATE.adb||!!x.serviceListenAddresses,value:x.servicePort,styles:{root:{width:300}},onChange:i})]}),(0,t.jsxs)(o.v,{children:[(0,t.jsx)(h.Z,{inlineLabel:!0,label:"persist.adb.tcp.port",disabled:!0,checked:x.persistPortEnabled,onText:"Enabled",offText:"Disabled"}),x.persistPort&&(0,t.jsx)(v.n,{disabled:!0,value:x.persistPort,styles:{root:{width:300}}})]})]})})}},function(e){e.O(0,[69,774,888,179],function(){return e(e.s=6450)}),_N_E=e.O()}]);
//# sourceMappingURL=tcpip-48ee2f66c388ebab.js.map